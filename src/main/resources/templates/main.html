<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title>ê³¼ì œ ì œì¶œ ë©”ì¸</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #f7f8fa; margin: 0; padding: 0; color: #333; }
        header { background: #3b82f6; color: white; padding: 1rem 2rem; display: flex; justify-content: space-between; align-items: center; }
        header h1 { margin: 0; }
        header nav a { color: white; margin-left: 1rem; text-decoration: none; font-weight: 500; }
        header nav a:hover { text-decoration: underline; }
        main { padding: 2rem; }

        /* ì¹´ë“œ ìŠ¤íƒ€ì¼ */
        .assignment-card {
            display: flex;
            flex-direction: row;
            background: white;
            margin-bottom: 1rem;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.1);
            border: 1px solid #ddd;
            cursor: pointer;
            text-decoration: none;
            color: inherit;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            box-sizing: border-box;
            overflow: hidden;
        }

        .assignment-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .assignment-card div {
            padding: 0.5rem 1rem;
            border-right: 1px solid #ccc;
            box-sizing: border-box;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .assignment-card div:last-child {
            border-right: none;
        }

        /* flex ì¡°ì •: ê³¼ëª©ëª… ì‘ê²Œ, ê³¼ì œëª… ê¸¸ê²Œ, ë§ˆê°ì¼ 2/3, ì„¤ëª… ìœ ì§€ */
        .subject { flex: 0.4; font-weight: bold; }
        .assignment-name { flex: 0.9; font-weight: bold; }
        .due-date { flex: 0.6; font-weight: bold; }
        .description { flex: 5; }

        /* ì»¬ëŸ¼ í—¤ë” ìŠ¤íƒ€ì¼ */
        .assignment-header {
            display: flex;
            flex-direction: row;
            background: #e0e7ff;
            font-weight: bold;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            margin-bottom: 0.5rem;
            box-sizing: border-box;
        }

        .assignment-header div {
            padding: 0.5rem 1rem;
            border-right: 1px solid #ccc;
            box-sizing: border-box;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .assignment-header div.subject { flex: 0.4; }
        .assignment-header div.assignment-name { flex: 0.9; }
        .assignment-header div.due-date { flex: 0.8; }
        .assignment-header div.description { flex: 5; }
        .assignment-header div:last-child { border-right: none; }

        .btn-container { text-align: right; margin-bottom: 1rem; }
        .btn-primary { background: #3b82f6; color: white; padding: 0.6rem 1.2rem; border-radius: 6px; text-decoration: none; font-weight: 500; transition: background 0.2s; }
        .btn-primary:hover { background: #2563eb; }

        footer { text-align: center; padding: 1rem; background: #e5e7eb; margin-top: 2rem; font-size: 0.9rem; }
    </style>
</head>
<body>
<header>
    <h1>ğŸ“Œ ê³¼ì œ ì œì¶œ ì‹œìŠ¤í…œ</h1>
    <nav>
        <span sec:authorize="isAuthenticated()">ì•ˆë…•í•˜ì„¸ìš”, <span sec:authentication="name"></span> ë‹˜</span>
        <a sec:authorize="isAuthenticated()" th:href="@{/logout}">ë¡œê·¸ì•„ì›ƒ</a>
        <a sec:authorize="!isAuthenticated()" th:href="@{/login}">ë¡œê·¸ì¸</a>
    </nav>
</header>

<main>
    <!-- ADMIN ì „ìš© ë“±ë¡ ë²„íŠ¼ -->
    <div sec:authorize="hasRole('ADMIN')" class="btn-container">
        <a class="btn-primary" th:href="@{/submit}">â• ê³¼ì œ ë“±ë¡</a>
    </div>

    <section>
        <h2>ë“±ë¡ëœ ê³¼ì œ ëª©ë¡</h2>

        <!-- ì»¬ëŸ¼ í—¤ë” -->
        <div class="assignment-header">
            <div class="subject">ê³¼ëª©ëª…</div>
            <div class="assignment-name">ê³¼ì œëª…</div>
            <div class="due-date">ë§ˆê°ì¼</div>
            <div class="description">ì„¤ëª…</div>
        </div>

        <!-- ì¹´ë“œ ë°˜ë³µ -->
        <div th:each="a : ${assignments}">
            <a th:href="@{'/assignment/' + ${a['id']}}" class="assignment-card">
                <div class="subject" th:text="${a['subjectName']}">ê³¼ëª©ëª…</div>
                <div class="assignment-name" th:text="${a['studentName']}">ê³¼ì œëª…</div>
                <div class="due-date" th:text="${a['submittedAt']}">ë§ˆê°ì¼</div>
                <div class="description" th:text="${a['description']}">ì„¤ëª…</div>
            </a>
        </div>
    </section>
</main>

<footer>
    <p>Â© 2025 ê³¼ì œ ì œì¶œ ì‹œìŠ¤í…œ</p>
</footer>
</body>
</html>
